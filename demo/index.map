{"version":3,"sources":["index.js"],"names":["V","Vue","show","index","ajax","show_ajax","renderCatalog","renderList","renderBook","log","BookSource","show_index","searchIcon","searchInput","swichMybook","swichFind","activeMybook","activeFind","nobook","myBookList","find","$nextTick","$refs","focus","event","input","target","value","titleText","url","then","r","json","bookListData","d","show_ajaxrenderList","type","getAttribute","text","innerHTML","catalogData","show_ajaxrenderCatalog","gender","major","minor","start","limit","nextSortUrl","bookID","nowAtBookId","bookSource","show_ajaxrenderBook","show_ajaxrenderText","show_ajaxBookSource","notice","sourceID","nowAtBookSource","firstCover","bookContent","nowAtBookChapter","chapterUrl","chapters","link","loadChapterText","encodeURI","nowAtBookChapterText","ok","show_indexFind","chapter","title","readArea","scrollTop","func","length","fullScreenState","querySelector","setAttribute","element","document","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","removeAttribute","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"],"mappings":"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","file":"index.map","sourceRoot":"..","sourcesContent":["\r\nvar V = new Vue({\r\n    el: '#app',\r\n    data: {\r\n        show: {\r\n            index: true,\r\n            ajax: false,\r\n            searchIcon: true,\r\n            searchInput: false,\r\n            swichMybook: true,\r\n            swichFind: true,\r\n            activeMybook: true,\r\n            activeFind: false,\r\n            nobook: true,\r\n            myBookList: false,\r\n            find: false,\r\n            renderCatalog: false,\r\n            renderList: false,\r\n            renderBook: false,\r\n            BookSource: false,\r\n            firstCover: false,\r\n        },\r\n        ajax: {\r\n            notice: '加载中...',\r\n            titleText: '标题',\r\n            catalogData: '',\r\n            nextSortUrl: '',\r\n            bookListData: '',\r\n            nowAtBookId: '',\r\n            nowAtBookSource: {},\r\n            nowAtBookChapter: '',\r\n            nowAtBookChapterText: '',\r\n            bookSource: {},\r\n            bookContent: {},\r\n            fullScreenState: false,\r\n        },\r\n\r\n\r\n\r\n    },\r\n    methods: {\r\n        show_ajax: function () {\r\n            V.show.index = false;\r\n            V.show.ajax = true;\r\n        },\r\n        show_ajaxrenderCatalog: function () {\r\n            V.show_ajax();\r\n            V.show.renderCatalog = true;\r\n            V.show.renderList = false;\r\n            V.show.renderBook = false;\r\n        },\r\n        show_ajaxrenderList: function () {\r\n            console.log('渲染列表');\r\n            V.show_ajax();\r\n            V.show.renderCatalog = false;\r\n            V.show.renderList = true;\r\n            V.show.renderBook = false;\r\n        },\r\n        show_ajaxrenderBook: function () {\r\n            console.log('渲染书籍');\r\n            V.show_ajax();\r\n            V.show.renderCatalog = false;\r\n            V.show.renderList = false;\r\n            V.show.renderBook = true;\r\n        },\r\n        show_ajaxBookSource: function () {\r\n            console.log('渲染源');\r\n            V.show.BookSource = true;\r\n        },\r\n        show_ajaxrenderText: function () {\r\n            console.log('渲染文本');\r\n            V.show.BookSource = false;\r\n        },\r\n\r\n\r\n        show_index: function () {\r\n            V.show.index = true;\r\n            V.show.ajax = false;\r\n        },\r\n        show_indexMybook: function () {\r\n            V.show_index();\r\n            V.show.searchIcon = true;\r\n            V.show.searchInput = false;\r\n            V.show.swichMybook = true;\r\n            V.show.swichFind = true;\r\n            V.show.activeMybook = true;\r\n            V.show.activeFind = false;\r\n            V.show.nobook = true;\r\n            V.show.myBookList = false;\r\n            V.show.find = false;\r\n        },\r\n        show_indexFind: function () {\r\n            V.show_index();\r\n            V.show.searchIcon = true;\r\n            V.show.searchInput = false;\r\n            V.show.swichMybook = true;\r\n            V.show.swichFind = true;\r\n            V.show.activeMybook = false;\r\n            V.show.activeFind = true;\r\n            V.show.nobook = false;\r\n            V.show.myBookList = false;\r\n            V.show.find = true;\r\n        },\r\n        // 显示搜索框\r\n        show_searchInput: function () {\r\n            console.log('显示搜索框');\r\n            V.show.searchIcon = false;\r\n            V.show.searchInput = true;\r\n            // 为搜索框设置光标\r\n            this.$nextTick(() => {\r\n                this.$refs.searchInput.focus();\r\n            })\r\n        },\r\n        // 在搜索框按下回车\r\n        submitSearchInput: function (event) {\r\n            console.log('加载搜索数据')\r\n            // 取得输入值\r\n            let input = event.target.value;\r\n            V.ajax.titleText = '检索：' + input;\r\n            // 请求数据并渲染\r\n            let url = `https://api.imhcg.cn/api/v1/zssq/search/${input}`;\r\n\r\n            fetch(url)\r\n                .then(r => r.json())\r\n                .then(d => {\r\n                    this.ajax.bookListData = d;\r\n                    V.show_ajaxrenderList();\r\n                })\r\n        },\r\n        // 渲染标签\r\n        renderCatalog: function (event) {\r\n            console.log('加载标签');\r\n            let type = event.target.getAttribute('data-func');\r\n            let text = event.target.innerHTML;\r\n            console.log(type);\r\n\r\n            // 设置渲染视图的标题\r\n            V.ajax.titleText = text;\r\n            // 取得需求数据\r\n            let url = '';\r\n            if (type === 'rank') {\r\n                url = 'https://api.imhcg.cn/api/v1/zssq/ranking/gender';\r\n            } else {\r\n                url = 'https://api.imhcg.cn/api/v1/zssq/catalog';\r\n            }\r\n\r\n            fetch(url)\r\n                .then(r => r.json())\r\n                .then(d => {\r\n                    this.ajax.catalogData = d;\r\n                    V.show_ajaxrenderCatalog();\r\n                })\r\n\r\n        },\r\n        // 渲染书籍列表\r\n        renderBookList: function (event) {\r\n            console.log('加载书籍列表');\r\n            let type = event.target.getAttribute('type');\r\n            let text = event.target.innerHTML;\r\n            V.ajax.titleText = text;\r\n            console.log(type, text);\r\n            let url = '';\r\n            if (type === 'rank') {\r\n                url = 'https://api.imhcg.cn/api/v1/zssq/ranking/' + event.target.getAttribute('data-id');\r\n            } else {\r\n                let gender = event.target.getAttribute('gender');\r\n                let major = event.target.getAttribute('data-Major');\r\n                let minor = event.target.getAttribute('data-Minor');\r\n                if (!minor) minor = '';\r\n                let start = 0;\r\n                let limit = 20;\r\n                url = `https://api.imhcg.cn/api/v1/zssq/catalog/detail?gender=${gender}&major=${major}&minor=${minor}&start=${start}&limit=${limit}`;\r\n                start += 20;\r\n                V.ajax.nextSortUrl = `https://api.imhcg.cn/api/v1/zssq/catalog/detail?gender=${gender}&major=${major}&minor=${minor}&start=${start}&limit=${limit}`;\r\n            }\r\n            fetch(url)\r\n                .then(r => r.json())\r\n                .then(d => {\r\n                    this.ajax.bookListData = d;\r\n                    V.show_ajaxrenderList();\r\n                })\r\n        },\r\n        //加载书籍\r\n        loadBook: function (event) {\r\n            console.log('加载书籍');\r\n            let bookID = event.target.getAttribute('bookID');\r\n            V.ajax.nowAtBookId = bookID;\r\n            let text = event.target.innerHTML;\r\n            V.ajax.titleText = text;\r\n            // 根据书籍 ID 取回书籍源\r\n            let url = `https://api.imhcg.cn/api/v1/zssq/atoc/${bookID}`\r\n            let bookSource = this.ajax.bookSource[bookID];\r\n\r\n            if (!bookSource) {\r\n                console.log('刷新源');\r\n                // 如果没有缓存的源，请求源列表，让用户选择\r\n                fetch(url)\r\n                    .then(r => r.json())\r\n                    .then(d => {\r\n                        this.ajax.bookSource[bookID] = d;\r\n                    })\r\n                    .then(() => {\r\n                        V.show_ajaxrenderBook();\r\n                        V.show_ajaxBookSource();\r\n                    })\r\n            } else {\r\n                console.log('加载源')\r\n                // 如果有缓存的源，直接调用\r\n                V.show_ajaxrenderBook();\r\n                V.show_ajaxrenderText();\r\n            }\r\n        },\r\n        loadCatalog: function (event) {\r\n            console.log('加载目录');\r\n            V.ajax.notice = '正在加载目录...';\r\n            let sourceID = event.target.getAttribute('sourceID');\r\n            // 保存当前书籍源ID\r\n            V.ajax.nowAtBookSource[V.ajax.nowAtBookId] = sourceID;\r\n            console.log(sourceID)\r\n            // 开启遮罩\r\n            V.show.firstCover = true;\r\n            // 请求源目录，以源 ID 作键 写入 ajax.bookContent\r\n            let url = `https://api.imhcg.cn/api/v1/zssq/btoc/${sourceID}`;\r\n            fetch(url)\r\n                .then(r => r.json())\r\n                .then(d => {\r\n                    // 缓存书源\r\n                    V.ajax.bookContent[sourceID] = d;\r\n                    console.log('目录下载完成');\r\n                    V.ajax.nowAtBookChapter = 0;\r\n                    let chapterUrl = V.ajax.bookContent[V.ajax.nowAtBookSource[V.ajax.nowAtBookId]].chapters[V.ajax.nowAtBookChapter].link;\r\n                    V.loadChapterText(chapterUrl);\r\n                })\r\n\r\n            // 保存记录\r\n            // console.log(JSON.stringify(V.show))\r\n            // console.log(JSON.stringify(V.ajax))\r\n        },\r\n        loadChapterText: function (chapterUrl) {\r\n            let url = `https://api.imhcg.cn/api/v1/zssq/chapter?link=${encodeURI(chapterUrl)}`\r\n            fetch(url)\r\n                .then(r => r.json())\r\n                .then(d => {\r\n                    V.ajax.nowAtBookChapterText = d;\r\n                    console.log('章节下载完成')\r\n                    console.log(V.ajax.nowAtBookChapterText);\r\n                    // 判断是否请求成功\r\n                    if (d.ok === false) {\r\n                        V.show.firstCover = false;\r\n                        console.log('请求失败');\r\n                        // 删除本地源缓存\r\n                        delete V.ajax.bookContent[V.ajax.nowAtBookSource[V.ajax.nowAtBookId]];\r\n                        delete V.ajax.bookSource[V.ajax.nowAtBookId];\r\n                        alert('请求章节失败，请换源再试');\r\n                        V.show_indexFind();\r\n                    } else {\r\n                        console.log('请求成功');\r\n                        V.ajax.titleText = d.chapter.title;\r\n                        V.show_ajaxrenderText();\r\n                        // 回到页面顶部\r\n                        this.$nextTick(() => {\r\n                            console.log(this.$refs.readArea);\r\n                            this.$refs.readArea.scrollTop = 0;\r\n                        })\r\n                        // 关闭遮罩\r\n                        V.show.firstCover = false;\r\n                    }\r\n                })\r\n        },\r\n        // 阅读器功能\r\n        BookControl: function (event) {\r\n            console.log('加载阅读器功能条');\r\n            let func = event.target.getAttribute('func');\r\n            console.log(func)\r\n            if (func === 'Bnext') {\r\n                if (V.ajax.nowAtBookChapter < V.ajax.bookContent[V.ajax.nowAtBookSource[V.ajax.nowAtBookId]].chapters.length) {\r\n                    V.ajax.nowAtBookChapter += 1;\r\n                    let chapterUrl = V.ajax.bookContent[V.ajax.nowAtBookSource[V.ajax.nowAtBookId]].chapters[V.ajax.nowAtBookChapter].link;\r\n                    V.loadChapterText(chapterUrl);\r\n                }\r\n            }\r\n            if (func === 'Bbefore') {\r\n                if (V.ajax.nowAtBookChapter > 0) {\r\n                    V.ajax.nowAtBookChapter -= 1;\r\n                    let chapterUrl = V.ajax.bookContent[V.ajax.nowAtBookSource[V.ajax.nowAtBookId]].chapters[V.ajax.nowAtBookChapter].link;\r\n                    V.loadChapterText(chapterUrl);\r\n                }\r\n            }\r\n            if (func === 'Bfull') {\r\n                console.log('全屏')\r\n                V.ajax.fullScreenState = !V.ajax.fullScreenState;\r\n                if (V.ajax.fullScreenState) {\r\n                    console.log('启动全屏')\r\n                    document.querySelector('#header').setAttribute(\"class\",\"ajaxHeader\");\r\n                    let element = document.querySelector('#ajax');\r\n                    if(element.requestFullscreen) {\r\n                        element.requestFullscreen();\r\n                      } else if(element.mozRequestFullScreen) {\r\n                        element.mozRequestFullScreen();\r\n                      } else if(element.msRequestFullscreen){\r\n                        element.msRequestFullscreen();\r\n                      } else if(element.webkitRequestFullscreen) {\r\n                        element.webkitRequestFullScreen();\r\n                      }\r\n                } else {\r\n                    console.log('退出全屏')\r\n                    document.querySelector('#header').removeAttribute(\"class\");\r\n                    if (document.exitFullscreen) {\r\n                        document.exitFullscreen();\r\n                      } else if (document.msExitFullscreen) {\r\n                        document.msExitFullscreen();\r\n                      } else if (document.mozCancelFullScreen) {\r\n                        document.mozCancelFullScreen();\r\n                      } else if (document.webkitExitFullscreen) {\r\n                        document.webkitExitFullscreen();\r\n                      }\r\n                }\r\n            }\r\n        },\r\n        // 阅读区全屏\r\n        fullScreen: function () {\r\n            console.log('全屏')\r\n           \r\n        },\r\n    },\r\n})"]}